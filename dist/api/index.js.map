{"version":3,"sources":["../../src/api/index.js"],"names":["config","db","api","use","get","req","res","json","version"],"mappings":";;;;;;AAAA;;AACA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;kBAEe,gBAAoB;AAAA,MAAjBA,MAAiB,QAAjBA,MAAiB;AAAA,MAATC,EAAS,QAATA,EAAS;;AACjC,MAAIC,MAAM,sBAAV;;AAEA;AACAA,MAAIC,GAAJ,CAAQ,SAAR,EAAmB,sBAAO,EAAEH,cAAF,EAAUC,MAAV,EAAP,CAAnB;;AAEAC,MAAIC,GAAJ,CAAQ,OAAR,EAAiB,oBAAK,EAAEH,cAAF,EAAUC,MAAV,EAAL,CAAjB;;AAEAC,MAAIC,GAAJ,CAAQ,OAAR,EAAiB,oBAAK,EAAEH,cAAF,EAAUC,MAAV,EAAL,CAAjB;;AAEAC,MAAIC,GAAJ,CAAQ,aAAR,EAAuB,0BAAW,EAAEH,cAAF,EAAUC,MAAV,EAAX,CAAvB;;AAEAC,MAAIC,GAAJ,CAAQ,OAAR,EAAiB,oBAAK,EAAEH,cAAF,EAAUC,MAAV,EAAL,CAAjB;;AAEA;AACAC,MAAIE,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN,EAAc;AACzBA,QAAIC,IAAJ,CAAS,EAAEC,yBAAF,EAAT;AACD,GAFD;;AAIA,SAAON,GAAP;AACD,C","file":"index.js","sourcesContent":["import { version } from \"../../package.json\";\r\nimport { Router } from \"express\";\r\nimport facets from \"./facets\";\r\nimport auth from \"./auth\";\r\nimport poll from \"./poll\";\r\nimport pollOption from \"./pollOption\";\r\nimport vote from \"./vote\";\r\n\r\nexport default ({ config, db }) => {\r\n  let api = Router();\r\n\r\n  // mount the facets resource\r\n  api.use(\"/facets\", facets({ config, db }));\r\n\r\n  api.use(\"/auth\", auth({ config, db }));\r\n\r\n  api.use(\"/poll\", poll({ config, db }));\r\n\r\n  api.use(\"/pollOption\", pollOption({ config, db }));\r\n\r\n  api.use(\"/vote\", vote({ config, db }));\r\n\r\n  // perhaps expose some API metadata at the root\r\n  api.get(\"/\", (req, res) => {\r\n    res.json({ version });\r\n  });\r\n\r\n  return api;\r\n};\r\n"]}